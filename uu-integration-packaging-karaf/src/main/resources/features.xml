<?xml version="1.0" encoding="UTF-8"?>
<features xmlns="http://karaf.apache.org/xmlns/features/v1.3.0" name="UU Integration">

  <repository>mvn:se.sunet.ati.integration/common-integration-packaging-karaf/1.0.0-SNAPSHOT/xml/features</repository>
  <repository>mvn:se.sunet.ati.integration.ladok/ladok-integration-packaging-karaf/1.0.0-SNAPSHOT/xml/features</repository>
  <repository>mvn:org.apache.camel.karaf/apache-camel/2.16.2/xml/features</repository>
  <repository>mvn:org.apache.activemq/activemq-karaf/5.13.0/xml/features</repository>

  <!-- To automatically install a feature in ServiceMix >= 6.0.0: install="auto" -->
  <feature name="uu-integration-all" version="1.0.0-SNAPSHOT" description="All UU integration features">
     <feature version="1.0.0-SNAPSHOT">esb-service-group-rest</feature>
     <feature version="1.0.0-SNAPSHOT">esb-service-identity-rest</feature>
     <feature version="1.0.0-SNAPSHOT">esb-identity-distribution</feature>
     <feature version="1.0.0-SNAPSHOT">esb-group-distribution</feature>
     <feature version="1.0.0-SNAPSHOT">esb-ladok-distribution</feature>
     <feature version="1.0.0-SNAPSHOT">group-grouper-adapter</feature>
     <feature version="1.0.0-SNAPSHOT">identity-sp-adapter</feature>
     <feature version="1.0.0-SNAPSHOT">ladok-atom-adapter</feature>
  </feature>

  <feature name="esb-service-group-rest" version="1.0.0-SNAPSHOT" description="ESB Group REST Service">
    <feature version="1.0.0-SNAPSHOT">common-logdb-datasource</feature>
    <feature version="1.0.0-SNAPSHOT">common-amq</feature>
    <feature version="1.0.0-SNAPSHOT">esb-rest-common</feature>
    <bundle>mvn:se.uu.its.integration/esb-model/1.1.0-SNAPSHOT</bundle>
    <bundle>mvn:se.uu.its.integration/esb-service-group-rest/1.0.0-SNAPSHOT</bundle>
  </feature>

  <feature name="esb-service-identity-rest" version="1.0.0-SNAPSHOT" description="ESB Identity REST Service">
    <feature version="1.0.0-SNAPSHOT">common-logdb-datasource</feature>
    <feature version="1.0.0-SNAPSHOT">common-amq</feature>
    <feature version="1.0.0-SNAPSHOT">esb-rest-common</feature>
    <bundle>mvn:se.uu.its.integration/esb-model/1.1.0-SNAPSHOT</bundle>
    <bundle>mvn:se.uu.its.integration/esb-service-identity-rest/1.0.0-SNAPSHOT</bundle>
  </feature>

  <feature name="esb-rest-common" version="1.0.0-SNAPSHOT" description="Common ESB REST dependencies">
    <feature>camel-cxf</feature>
    <feature>camel-jpa</feature>
    <feature>jpa</feature>
    <feature>openjpa</feature>
    <feature>camel-sql</feature>
    <feature>camel-jaxb</feature>
    <feature>jndi</feature>
    <feature>connector</feature>
    <!-- Not available?:
    <bundle>mvn:org.osgi/org.osgi.enterprise/4.2.0</bundle>
    -->
    <feature>esb-common</feature>
  </feature>

  <feature name="esb-common" version="1.0.0-SNAPSHOT" description="Common ESB dependencies">
    <feature>activemq-camel</feature>
    <bundle>wrap:mvn:xalan/xalan/2.7.2</bundle>
    <bundle>wrap:mvn:xalan/serializer/2.7.2</bundle>
  </feature>

  <feature name="esb-identity-distribution" version="1.0.0-SNAPSHOT" description="ESB Identity Event Distribution">
    <feature>esb-common</feature>
    <bundle>mvn:se.uu.its.integration/esb-identity-distribution/1.0.0-SNAPSHOT</bundle>
  </feature>

  <feature name="esb-group-distribution" version="1.0.0-SNAPSHOT" description="ESB Group Event Distribution">
    <feature>esb-common</feature>
    <bundle>mvn:se.uu.its.integration/esb-group-distribution/1.0.0-SNAPSHOT</bundle>
  </feature>

  <feature name="esb-ladok-distribution" version="1.0.0-SNAPSHOT" description="Ladok Event Distribution">
    <feature>esb-common</feature>
    <bundle>mvn:se.sunet.ati.ladok/ladok3rest-client/1.0.0-SNAPSHOT</bundle>
    <bundle>mvn:se.uu.its.integration/esb-ladok-distribution/1.0.0-SNAPSHOT</bundle>
  </feature>

  <feature name="group-grouper-adapter" version="1.0.0-SNAPSHOT" description="Group Grouper Adapter">
    <feature>esb-common</feature>
    <feature>camel-cxf</feature>
    <bundle>mvn:se.uu.its.integration/group-grouper-adapter/1.0.0-SNAPSHOT</bundle>
  </feature>

  <feature name="identity-sp-adapter" version="1.0.0-SNAPSHOT" description="SP Identity Adapter">
    <feature>esb-common</feature>
    <feature>camel-cxf</feature>
    <bundle>mvn:se.uu.its.integration/esb-model/1.1.0-SNAPSHOT</bundle>
    <bundle>mvn:se.uu.its.integration/identity-sp-adapter/1.0.0-SNAPSHOT</bundle>
  </feature>

</features>
